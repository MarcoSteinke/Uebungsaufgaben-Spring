# ‚ö° Uebungsaufgaben-Spring:
___

## ‚ÑπÔ∏è About:

In diesem Repository befinden sich verschiedene √úbungsaufgaben, welche verschiedene Aspekte bei dem Umgang mit Spring vertiefen sollen. Die Beispiele werden nach und nach erweitert!

## üí° Tipps:

* F√ºr alle Aufgaben soll der Spring Initializer benutzt werden. Dadurch wird die Erzeugung eines neuen Projekts trainiert.
* Bitte halte dich bei der Bearbeitung der Aufgaben an Prinzipien f√ºr `Clean Code` (wie zum Beispiel in `Effective Java`).
* Alle Aufgaben ben√∂tigen die Dependencies `Spring Web`, `Spring Dev Tools`, so wie `Thymeleaf`.
* Zur Vereinfachung kann auch immer `Lombok` genutzt werden.

## 1Ô∏è‚É£ Profilseite:

#### Aufgabe (a):

Schreibe eine Spring-Boot-Webanwendung, welche es einem Nutzer erlaubt sich zu registrieren. Dies bedeutet, dass der User beim Aufruf von `localhost:8080` in einer Webansicht landet, welche ein Formular mit den Feldern `Vorname`, `Nachname`, `Email` und `Passwort`, so wie einem `Button` zum abschicken des Formulars beinhaltet. Es sollen sinnvolle Datentypen f√ºr die Eingabefelder gew√§hlt werden. Nach der Eingabe des Formulars soll der Nutzer auf die Seite `/landing` weitergeleitet werden, wobei dort der Text `Willkommen XYZ` angezeigt werden soll. `XYZ` soll mit dem jeweiligen Vornamen ersetzt werden. Beim Aufruf von `/profil` soll eine Seite ge√∂ffnet werden, in welchem in einer Tabelle untereinander alle Nutzerdaten f√ºr diesen User ausgegeben werden sollen.

#### üí° Tipps:

* es ist sinnvoll die Logik in eine separate Klasse auszulagern.
* versuche, mittels `th:object` sofort das Eingabeformular in ein Objekt zu √ºbersetzen.

#### Aufgabe (b):

Wenn der User das Formular eingegeben hat, soll nun eine `Session` existieren. Die Session erlaubt dem User dann, die Seiten `/landing` bzw `/profil` aufzurufen. Sollte der User noch nicht eingeloggt sein, also das Formular ausgef√ºllt haben, so soll er auf der Seite `/error` landen und eine entsprechende Fehlermeldung lesen. Au√üerdem soll nun eine Route `/logout` erstellt werden, welche den User ausloggt indem die Session unterbrochen wird. Jetzt soll der User wieder besagte Seiten nicht aufrufen k√∂nnen.


#### üí° Tipps:

* gebe die Session, falls sie existiert steht √ºber den Controller an das Model weiter, bis der User `/logout` aufruft.
* Pr√ºfe bei jedem Aufruf einer Seite, ob eine Session existiert.
* eine Session kann man sich wie folgt vorstellen:

```java
public class Session {

    private final UUID id;
    private final User user;

    private Session(User user) {
        this.id = UUID.randomUUID();
        this.user = user;
    }
    
    public Session start(User user) {
        return new Session(user);
    }
}
```

F√ºr die Profilseite eines Users selbst muss noch eine entsprechende Methode in der Klasse Session erstellt werden, diese kann allerdings auch einfach ein Getter auf den User sein!

#### Aufgabe (c):

Jedem User soll nun au√üerdem eine id vom Typ `Long` hinzugef√ºgt werden. Diese sollen inkrementiert verteilt werden, sodass der 1. User die id `1` erh√§lt, der zweite die id `2` und so weiter. Au√üerdem soll nun √ºber die Route `/profile/1` das Profil des Users mit der id `1`, √ºber die Route `/profile/2` das Profil des Users mit der id `2` und so weiter ausgegeben werden. Dies soll ebenfalls nur im Falle einer validen Session m√∂glich sein.

#### üí° Tipps:

* F√ºr diese Teilaufgabe ben√∂tigt man neben `@RequestParameter` noch `@PathVariable`.
* Schreibe eine Methode, welche automatisch mehrere Nutzer k√ºnstlich anlegt. Dadurch m√ºssen nicht nach jedem Restart h√§ndisch User hinzugef√ºgt werden.

___

## 2Ô∏è‚É£ Link Shortener:

Nun soll ein Link-Shortener so wie https://www.bit.ly erstellt werden, mit Hilfe dessen es m√∂glich ist, einen Link per Redirect zu erreichen. Dies soll wie folgt ablaufen:

#### Aufgabe (a):

Ein Nutzer m√∂chte einen Shortlink f√ºr die Seite `https://www.hhu.de` erstellen. Er geht auf die Seite `localhost:8080/` und findet dort ein Formular vor, welches ein Eingabefeld f√ºr eine `URL` so wie einen Button zum abschicken enth√§lt. Daraufhin soll ein POST-Request auf `localhost:8080/add` durchgef√ºhrt werden und der User nun ein Feld vor sich sieht, in welchem sich der generierte Shortlink, wie zum Beispiel `localhost:8080/4Jd8A` befindet. Ruft man nun diesen Link auf, so wird der User auf die Seite `https://www.hhu.de` weitergeleitet.

#### üí° Tipps:

* f√ºr dieses Problem existiert eine optimale Datenstruktur f√ºr die Speicherung der Shortlinks
* `/` soll im GET-Fall das Formular anzeigen.
* `/add` wird nur f√ºr das Hinzuf√ºgen neuer Routen genutzt.
* `/XYZ` soll f√ºr beliebige Zeichen anstelle von XYZ auf das Ziel weiterleiten, falls daf√ºr eine Weiterleitung existiert.

#### Aufgabe (b):

Nun sollen alle bisher erstellten Links unter `localhost:8080/` aufgelistet werden. Au√üerdem soll f√ºr jeden Eintrag ein `DELETE`-Button angezeigt werden, welcher zu `/delete/SHORTLINK` f√ºhrt. Im Beispiel von eben soll dann per `/delete/4Jd8A` dann der zugeh√∂rige Shortlink gel√∂scht werden und der Eintrag verschwinden.

#### üí° Tipps:

* f√ºr die Erzeugung der DELETE-Buttons kann man `<a class="btn btn-danger" href="" th:href="">üóëÔ∏è</a>` genutzt werden, um die Redirects umzusetzen.
* dabei entspricht XYZ dem jeweiligen Shortvalue, zb `4Jd8A` im Falle von vorher.
* statt Shortvalues f√ºr die Routen `add` und `delete` zu benutzen, k√∂nnten auch zus√§tzlich ID's genutzt werden.

___

## 3Ô∏è‚É£ Blog:

In dieser Aufgabe wirst du eine Software f√ºr einen Blog implementieren. Dieser Blog soll vorallem aus drei Bestandteilen bestehen:

####Aufgabe (a):

Implementiere die Hauptkomponenten f√ºr dieses Projekt:

* Erstellungsformular
* Post-Auflistung
* Post-Ansicht

#### 1. Erstellungsformular:

Dieses Formular soll die Felder `Titel`, `Autor`, `Datum` und `Inhalt` umfassen. Dabei sollen sinnvolle Datentypen gew√§hlt werden. Das Formular soll √ºber die Route `/new` erreichbar sein. Wurde ein Post erstellt und das Formular abgeschickt, so soll der User direkt in diesen neuen Post weitergeleitet werden. Zus√§tzlich soll jeder Post noch eine
`ID` besitzen.

#### 2. Post-Auflistung:

Diese Webansicht listet alle Beitr√§ge auf und zeigt dabei Titel, Autor, Datum  an. Au√üerdem soll f√ºr jeden aufgelisteten Post einen Button geben, welcher einen in die Post-Ansicht weiterleitet. Die Auflistung aller Posts soll direkt per `/` aufrufbar sein.

#### 3. Post-Ansicht:

Die Post-Ansicht zeigt dann `Titel`, `Autor`, `Datum` und zus√§tzlich den gesamten `Inhalt` an. Die Route f√ºr die jeweilige Ansicht findet man unter `/post/ID`.

#### üí° Tipps:

* F√ºr die Weiterleitungen kann im richtigen Moment auch `redirect:...` im Controller genutzt werden.
* Design ist nicht alles, sorge zuerst daf√ºr dass die einzelnen Ansichten untereinander richtig verdrahtet sind!

####Aufgabe (b):

Nun sollen auch `DELETE`-Buttons f√ºr die einzelnen Posts existieren. L√∂se dies √§hnlich zu Aufgabe (b) im `Link Shortener`.
